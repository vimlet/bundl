<!-- <template>

  <div class="dropButton vc-unselectable">
    <span id="title" class="title">Title</span>
    <i class="material-icons expandIcon">expand_more</i>
  </div>
  <div id="itemsWrapper" class="itemsWrapper"></div>

</template> -->

<script type="text/javascript">
  vcomet.element("vc-overlay", "", {

    themed: true,

    properties: {
      title: {
        value: "",
        reflect: false
      }
    },
    functions: {
      //This are just some fast access element so that theres no need for calling the QuerySelector all the time.
      // setupQuickAccess: function(el) {
      //   el.dropDown = el.querySelector("#itemsWrapper");
      //   el.dropDownButton = el.querySelector(".dropButton");
      // }
      getUnderlyingElement: function(e) {
        e.target.style.display = "none";
        var underEl = document.elementFromPoint(e.pageX, e.pageY);
        e.target.style.display = "block";
        return underEl;
      }
    },
    onRender: function() {

      var el = this;

      el.tabIndex = -1;

      el.addEventListener("mousedown", function(e) {
        var underlyingEl = el.getUnderlyingElement(e);

        if (underlyingEl.onmousedown) {
          underlyingEl.onmousedown(e);
        }
      }, true);

      el.addEventListener("mousemove", function(e) {
        var underlyingEl = el.getUnderlyingElement(e);

        if (underlyingEl.onmouseover) {
          underlyingEl.onmouseover();
        }

      });

    }
  });
</script>
