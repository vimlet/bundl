<template>
</template>

<script>
    eon.element({
        name: "app-doc-viewer-templates-api",
        style: "app-doc-viewer-templates-api.css",
        dependencies: [
            "app-doc-viewer-templates-api-menu",
            "app-doc-viewer-templates-api-content"
        ],
        properties: {
            // @html-property value (public) [Selected value]
            value: {
                value: "",
                observe: true
            }
        },

        privateProperties: {
            refs: {
                value: {}
            },
            misc: {
                value: {
                    folderNodeOrderRegex: new RegExp("\\[\\d+\\]", "gm")
                }
            }
        },

        functions: {
            // @function setValue (public) @param value
            // setValue: function (value) {
            //     var el = this;
            //     el._refs.menu.value = value;
            //     el._refs.content.value = value;
            // }
        },

        privateFunctions: {
            // @function _init (private) [Initialize component]
            init: function () {
                var el = this;
                el._setUp();
            },
            // @function _setUp (private) [Set up component]
            setUp: function () {
                var el = this;
                el._refs.menu = el.querySelector("app-doc-viewer-templates-api-menu");
                el._refs.content = el.querySelector("app-doc-viewer-templates-api-content");
                // if (el.value) {
                //     el.setValue(el.value);
                // }
                el._refs.menu.onTogglePrivate(function () {
                    el._refs.menu.togglePrivate();
                    el._refs.content.togglePrivate();
                });
            }
        },

        onInit: function () {
            var el = this;
            // var json = el.getSourceElements();
            // if (json && json[0]) {
            //     el.value = JSON.parse(json[0].innerHTML);      
            //     json[0].parentNode.removeChild(json[0]);                          
            // }
        },

        onRender: function () {
            var el = this;
            el._init();
        },

        // onPropertyChanged: function (attrName, oldVal, newVal) {
        //     var el = this;
        //     switch (attrName) {
        //         case "value":
        //             this.setValue(newVal);
        //             break;
        //     }
        // }



    });
</script>