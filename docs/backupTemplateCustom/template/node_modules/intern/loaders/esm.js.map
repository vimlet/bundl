{"version":3,"file":"esm.js","sourceRoot":"","sources":["../../../src/loaders/esm.ts"],"names":[],"mappings":";AAKA,MAAM,CAAC,cAAc,CAAC,UAAA,OAAO;IAC3B,IAAI,MAAM,CAAC,WAAW,KAAK,SAAS,EAAE;QACpC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;KAC7D;IAED,MAAM,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAG/B,IAAM,aAAa,GAAiB,MAAM,CAAC;IAE3C,OAAO,UAAC,OAAiB;QACvB,OAAO,aAAa,CAAC,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","sourcesContent":["/// <reference path=\"globals.d.ts\"/>\n\n/**\n * A loader script for loading ES-module JavaScript suites in the browser.\n */\nintern.registerLoader(_config => {\n  if (intern.environment !== 'browser') {\n    throw new Error('The ESM loader only works in the browser');\n  }\n\n  intern.log('Using esm loader');\n\n  // Declare a Browser-typed refernce to the global executor\n  const internBrowser: Browser = <any>intern;\n\n  return (modules: string[]) => {\n    return internBrowser.loadScript(modules, true);\n  };\n});\n"]}