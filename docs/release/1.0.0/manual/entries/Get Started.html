<app-doc-viewer-templates-article links="Introduction,Installation,Usage,Configuration,Query Params,Copy,Templating,Watch" script="">
    <eon-scroll thickness="8">
        <div class="app-doc-viewer-templates-article-content app-doc-content-width" eon-ref="content">
            <div><div class="app-md-viewer-t app-md-viewer-t1" id="Introduction">Introduction</div></div><div>Bundl is a flexible project bundler for any language. It allows you to split your code and assets in a convenient way for daily work, while optimizing the output for production with the help of any toolchain of your choice.</div><div>You can think of Bundl as way to automate your build routine, while you focus on your development.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t1 app-md-viewer-t">Features<div class="app-md-viewer-br"></div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Fast:</strong> It works asynchronously.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Flexible:</strong> Customize any task using NodeJS and NPM packages. </div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Code Split:</strong> Split your code to easy daily development.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Sequencing:</strong> Order tasks in a synchronous way.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Configurable:</strong> Friendly configuration file.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Watcher Mode:</strong> Track your files and work freely while Bundl triggers in the background.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Non Intrusive:</strong> Do things your way.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Join/Copy:</strong> Join or copy any assets to the output.</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text"><strong>Templating:</strong> Use <a href="https://github.com/vimlet/vimlet-meta" title="">Meta</a> template engine to control the output granularly.<div class="app-md-viewer-br"></div></div></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Installation">Installation</div></div><div>You'll need the latest <a href="https://NodeJS.org" title="">NodeJS</a> release.<div class="app-md-viewer-br"></div></div><div><span class="app-md-viewer-quote"></span>(NodeJS version must be greater than 10.X.X).<div class="app-md-viewer-br"></div><div class="app-md-viewer-br"></div></div><div><strong>Install through npm:</strong><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>npm install @vimlet/bundl</code></app-code></div> </div><div>or simply</div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>npx @vimlet/bundl</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Usage">Usage</div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">Command line<div class="app-md-viewer-br"></div></div></div><div><strong>Run:</strong><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>npx bundl</code></app-code></div><div class="app-md-viewer-br"></div></div><div>If no args are provided this option will look for <em>bundl.config.js</em> at current working directory.</div><div>A config path can be provided with <code class="app-md-viewer-code">-c</code> like so:<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>npx bundl -c &quot;path_to_config&quot;</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">As a module<div class="app-md-viewer-br"></div></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>const bundl = require(&quot;@vimlet/bundl&quot;);

var config = {
  &quot;output&quot;: {
    &quot;build/bundle.js&quot;: &quot;src/js/**.js&quot;
  }
};

bundl.build(config);</code></app-code></div><div class="app-md-viewer-br"></div></div><div>Since bundle.config.js is a node module, it can be imported and passed as an argument to build.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Configuration">Configuration</div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">Configuration File<div class="app-md-viewer-br"></div></div></div><div>The configuration file is a javascript file that exports a configuration object.</div><div>Since its a normal NodeJS javascript file you can use all its API features including:<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text">imports</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text">dependencies</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text">variables</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text">functions</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text">comments</div></div></div><div><div class="app-md-viewer-unordered"><div class="app-md-viewer-unordered-dot"></div><div class="app-md-viewer-unordered-text">etc<div class="app-md-viewer-br"></div></div></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>module.exports = {
  //...
};</code></app-code></div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">Configuration Object<div class="app-md-viewer-br"></div></div></div><div><div class="app-md-viewer-t3 app-md-viewer-t">Configuration Properties<div class="app-md-viewer-br"></div></div></div><div><strong>outputBase:</strong> Generated files will be all within this directory, they will be nested inside following their input path.</div><div><strong>inputBase:</strong> Files will be looking for from this directory.</div><div><strong>watch:</strong> Path to a folder to keep looking for changes.</div><div><strong>clean:</strong> If set to true, outputBase will be empty before start packing.</div><div><strong>output:</strong> The output object, contains the output paths as keys with input patterns or objects as values.<div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>module.exports = {
  &quot;outputBase&quot;: &quot;build&quot;,
  &quot;inputBase&quot;: &quot;src&quot;,
  &quot;watch&quot;: &quot;src&quot;,
  &quot;clean&quot;: true,
  &quot;output&quot;: {
    &quot;bundle.js&quot;: &quot;js/**.js&quot;
  }
};</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">Output Object<div class="app-md-viewer-br"></div></div></div><div>The output paths are presented as the keys of this object. If global outputBase property is present, it will be added at the start of each output path key.</div><div>The output path key can hold several value formats.<div class="app-md-viewer-br"></div></div><div><strong>Simple string:</strong> Path to single input file.</div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;output/subfolder&quot;: &quot;input.txt&quot;</code></app-code></div><div class="app-md-viewer-br"></div></div><div><strong>Object:</strong> A configuration object for given output.</div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;output/subfolder&quot;: {input:&quot;input.txt&quot;, ...}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><strong>Array:</strong> Can contain both string and object.</div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;output/subfolder&quot;: [{input:&quot;input1.txt&quot;, ...},&quot;input2.txt&quot;]</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t3 app-md-viewer-t">Configuration Properties<div class="app-md-viewer-br"></div></div></div><div><strong>parse:</strong> Enable <a href="https://github.com/vimlet/vimlet-meta" title="">Meta</a> template syntax parsing.</div><div><strong>order:</strong> Specify an order and make it works synchronously with other ordered entries. Not sorted keys will be done at the end in asynchronous way.</div><div><strong>id:</strong> Identification for hashes and other parse functions.</div><div><strong>use:</strong> <code class="app-md-viewer-code">function(entry){return entry;}</code> Use custom code to modify the output.</div><div><strong>input:</strong> A string or a configuration object for the input files.<div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;output&quot;:{
  &quot;outputfile.ext&quot;: {
    &quot;clean&quot;: true,
    &quot;order&quot;: 0,
    &quot;id&quot;: &quot;example&quot;,
    &quot;input&quot;: &quot;inputfile.ext&quot;
  }
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t3 app-md-viewer-t">Hash Interpolation<div class="app-md-viewer-br"></div></div></div><div>You can interpolate a shortened file hash as part of the output path key with <code class="app-md-viewer-code">{{hash}}</code>, this will be inserted as a part of the key. </div><div>This is useful for tracking changes or busting caches, since the hash will change when any input file for a given output is modified</div><div>When <code class="app-md-viewer-code">&quot;parse&quot;: true</code>, it's recommend to add an <code class="app-md-viewer-code">id</code> property, so you can retrieve the name using <code class="app-md-viewer-code">&lt;%= hash(id); %&gt;</code><div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;output&quot;:{
  &quot;bundle.{{hash}}.js&quot;: {
    &quot;id&quot;: &quot;bundle.js&quot;,
    //...
  }
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">Input Object<div class="app-md-viewer-br"></div></div></div><div>When an input configuration object is used, it's keys are the file paths to use as input for the output.</div><div><code class="app-md-viewer-code">*</code> and <code class="app-md-viewer-code">**</code> patterns can be used to target multiple files. If the path starts with <code class="app-md-viewer-code">!</code> it will exclude that pattern.<div class="app-md-viewer-br"></div></div><div>If a global inputBase property is specified, it will be added at the start of each path key.<div class="app-md-viewer-br"></div></div><div>The content can be a boolean true just to mark the file as required.</div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;input&quot;:{
  &quot;inputfile.ext&quot;: true
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t3 app-md-viewer-t">Configuration Properties<div class="app-md-viewer-br"></div></div></div><div>You can also provide configuration object that can be used with the following parameters:<div class="app-md-viewer-br"></div></div><div><strong>parse:</strong> Run meta for given key.</div><div><strong>use:</strong> <code class="app-md-viewer-code">function(entry){return entry;}</code> Use custom code to modify the input.</div><div><strong>read:</strong> If set to false, file content will not be read. Useful when reading it by other means in <code class="app-md-viewer-code">use</code> function.<div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;input&quot;:{
  &quot;file.*&quot;: true,
  &quot;!file.html&quot;: true
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t2 app-md-viewer-t">Use Function<div class="app-md-viewer-br"></div></div></div><div>A function which allow the user to modify the content and the filename.<div class="app-md-viewer-br"></div></div><div>Use can be used either at output object or at input object. The function has the same syntax but some differences.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>function(entry){
  // Do something
  return entry;
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div>The function has one parameter, entry. And it must return it again.<div class="app-md-viewer-br"></div></div><div><strong>When used in output object:</strong></div><div>Entry is an object with the following keys:</div><div>fileName: Name of the file that will be generated.</div><div>content: Content of the file.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;use&quot;:function (entry) {
  entry.fileName = entry.fileName.replace(&quot;.less&quot;, &quot;.css&quot;);
  entry.content += &quot;\nconsole.log(\&quot;output use\&quot;);&quot;;
  return entry;
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><strong>When used in input object:</strong></div><div>Entry is an object with the following keys:<div class="app-md-viewer-br"></div></div><div>fileName: Name of the file that will be generated.</div><div>content: Content of the file.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;use&quot;:function (entry) {
  entry.fileName = entry.fileName.replace(&quot;.less&quot;, &quot;.css&quot;);
  entry.content += &quot;\nconsole.log(\&quot;output use\&quot;);&quot;;
  return entry;
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><span class="app-md-viewer-quote"></span>It is important to know that input use will be done before output use.</div><div><span class="app-md-viewer-quote"></span>Use allows async functions with await.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;use&quot;: async function (entry) {
  entry.content = await doSomething(entry.content);
  return entry;
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><em>There are some other properties at entry object such as pattern for input, they can be useful but their modification will not be taken in the bundle process.</em><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t3 app-md-viewer-t">Third party modules with use<div class="app-md-viewer-br"></div></div></div><div>Using <code class="app-md-viewer-code">use</code> to parse .less files:<div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;input&quot;: {
  &quot;less/**.less&quot;: {
    &quot;use&quot;: async function (entry) {
      try {
          entry.fileName = entry.fileName.replace(&quot;.less&quot;, &quot;.css&quot;);
          entry.content = (await require(&quot;less&quot;).render(entry.content.toString(&quot;utf8&quot;), {
          filename: require(&quot;path&quot;).resolve(entry.file),
          })).css;
        } catch (error) {
          console.log(error);
        }
        return entry;
      }
    }
  }</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Query Params">Query Params</div></div><div>Output keys allow output options to be passed as query params, following the same syntax as HTML query params, in order to simplify some scenarios.<div class="app-md-viewer-br"></div></div><div><code class="app-md-viewer-code">path?key1=value1&amp;key2?value2</code><div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;index.html?parse=true&quot;:&quot;html/index.html&quot;</code></app-code></div><div class="app-md-viewer-br"></div></div><div>is the same as:<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;index.html&quot;: {
  &quot;parse&quot;: true,
  &quot;input&quot;: {
    &quot;html/index.html&quot;: true
  }
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div>If an object key has the same property as the one provided by the query params, it will have priority over the query param value.<div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;index.html?parse=true&quot;: {
  &quot;input&quot;: &quot;html/index.html&quot;
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div>is the same as:<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>&quot;index.html&quot;:{
  &quot;parse&quot;: true,
  input: {
    &quot;html/index.html&quot;: true
  }
}</code></app-code></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Copy">Copy</div></div><div>If any output key ends with **, it will be interpreted as <code class="app-md-viewer-code">copy</code> task, and all the input files will be copied to that output path.<div class="app-md-viewer-br"></div></div><div><em>Example:</em></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>&quot;copy/**&quot;: {
  &quot;input&quot;: {
    &quot;input/**&quot;: true
  }
}</code></app-code></div></div><div>All files inside <code class="app-md-viewer-code">input/**</code> will be copied to <code class="app-md-viewer-code">copy</code> following the same structure that they had.<div class="app-md-viewer-br"></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Templating">Templating</div></div><div><a href="https://github.com/vimlet/vimlet-meta" title="">Vimlet meta templating engine</a> is built in bundl. <div class="app-md-viewer-br"></div></div><div>If <code class="app-md-viewer-code">&quot;parse&quot;: true</code> meta template engine will parse the file content.<div class="app-md-viewer-br"></div></div><div>Meta template engine is used to generate files from templates that allow the use of JavaScript and NodeJS API.<div class="app-md-viewer-br"></div></div><div><em>Example:</em><div class="app-md-viewer-br"></div></div><div>Join files with meta:<div class="app-md-viewer-br"></div></div><div>Template1:</div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>Hello I&apos;m a template &lt;%template(template2)%&gt;</code></app-code></div><div class="app-md-viewer-br"></div></div><div>Template2:</div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>I&apos;m another template</code></app-code></div><div class="app-md-viewer-br"></div></div><div>Result:</div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>Hello I&apos;m a template I&apos;m another template</code></app-code></div><div class="app-md-viewer-br"></div><div class="app-md-viewer-br"></div></div><div>Template logic with meta:<div class="app-md-viewer-br"></div></div><div>Template:</div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>Hello I&apos;m a template
&lt;%
for(var i = 0; i &lt; 5; i++){
  echo(i);
}
%&gt;</code></app-code></div></div><div>Result:</div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>Hello I&apos;m a template 01234</code></app-code></div><div class="app-md-viewer-br"></div></div><div>If you need more information regarding meta please visit <a href="https://github.com/vimlet/vimlet-meta" title="">https://github.com/vimlet/vimlet-meta</a>.<div class="app-md-viewer-br"></div><div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-t app-md-viewer-t1" id="Watch">Watch</div></div><div>Bundl has the ability to keep track for changes on input files and output again the necessary files without the need to manually run bundl each time.<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="null"><code>bundl -w &quot;path_to_folder&quot;</code></app-code></div><div class="app-md-viewer-br"></div></div><div>This will enable watch mode. If any file under watch directory that matches an input are modified, bundl will run again for those outputs.<div class="app-md-viewer-br"></div></div><div>It can also be configured at <code class="app-md-viewer-code">bundl.config.js</code> even using array for multiple directories:<div class="app-md-viewer-br"></div></div><div><div class="app-md-viewer-code-container"><app-code language="javascript"><code>module.exports = {
  &quot;watch&quot;: [&quot;src&quot;, &quot;doc&quot;],
  &quot;output&quot;: {
    //...
  }
};</code></app-code></div><div class="app-md-viewer-br"></div></div><div>If watch property is added to an input object and watch mode is globally enabled, it will watch the given path for that input instead of the input key.</div>
            <div class="app-doc-viewer-templates-article-content-bottom"></div>
        </div>
    </eon-scroll>
    <app-go-top></app-go-top>
</app-doc-viewer-templates-article>